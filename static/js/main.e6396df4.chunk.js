(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{33:function(t,e,n){},34:function(t,e,n){},53:function(t,e,n){t.exports={ListTable:"ContactsList_ListTable__3LLX9"}},55:function(t,e,n){t.exports={Form:"ContactForm_Form__UemrB",FormLabel:"ContactForm_FormLabel__3WZi1",FormInput:"ContactForm_FormInput__1U2Yg"}},56:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(9),o=n.n(a),u=n(5),s=(n(33),n(34),n(8)),i=n.n(s),b=n(3),j=Object(b.b)("contacts/fetchContactsRequest"),l=Object(b.b)("contacts/fetchContactsSuccess"),O=Object(b.b)("contacts/fetchContactsError"),f=Object(b.b)("contacts/addContactsRequest"),d=Object(b.b)("contacts/addContactsSuccess"),p=Object(b.b)("contacts/addContactsError"),m=Object(b.b)("contacts/deleteContactRequest"),h=Object(b.b)("contacts/deleteContactSuccess"),y=Object(b.b)("contacts/deleteContactError"),x=Object(b.b)("contacts/changeFilter");i.a.defaults.baseURL="http://localhost:4000";var v=n(10),C=function(t){return t.contacts.items},g=Object(v.a)([C,function(t){return t.contacts.filter}],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),F=(n(53),n(1)),L=function(){var t=Object(u.b)(),e=Object(u.c)(g);return Object(c.useEffect)((function(){t((function(t){t(j()),i.a.get("/contacts").then((function(e){var n=e.data;return t(l(n))})).catch((function(e){return t(O(e.message))}))}))}),[t]),Object(F.jsx)("table",{className:"List-table",children:Object(F.jsx)("tbody",{children:e.map((function(e){var n=e.name,c=e.number,r=e.id;return Object(F.jsxs)("tr",{children:[Object(F.jsx)("td",{children:n}),Object(F.jsx)("td",{children:c}),Object(F.jsx)("td",{children:Object(F.jsx)("button",{type:"button",onClick:function(){return t(function(t){return function(e){e(m()),i.a.delete("/contacts/".concat(t)).then((function(){return e(h(t))})).catch((function(t){return e(y(t.message))}))}}(r))},children:"del"})})]},r)}))})})},_=n(15);n(55);var w=function(){var t=Object(u.b)(),e=Object(c.useState)(""),n=Object(_.a)(e,2),r=n[0],a=n[1],o=Object(c.useState)(""),s=Object(_.a)(o,2),b=s[0],j=s[1],l=function(t){var e=t.currentTarget,n=e.name,c=e.value;switch(n){case"name":a(c);break;case"number":j(c);break;default:return}},O=Object(u.c)((function(t){return C(t)}));return Object(F.jsxs)("form",{className:"Form",onSubmit:function(e){if(e.preventDefault(),""!==r.trim()&&""!==b.trim()){var n,c=function(){var t=r.toLowerCase();return O.find((function(e){return e.name.toLowerCase()===t}))}();if(c)alert("".concat(c.name," is already in contacts."));else t((n={name:r,number:b},function(t){t(f()),i.a.post("/contacts",n).then((function(e){var n=e.data;return t(d(n))})).catch((function(e){return t(p(e.message))}))})),a(""),j("")}else alert("Fill all fields!")},children:[Object(F.jsxs)("label",{className:"Form-label",children:["Name",Object(F.jsx)("input",{className:"Form-input",type:"text",name:"name",value:r,onChange:l})]}),Object(F.jsxs)("label",{className:"Form-label",children:["Number",Object(F.jsx)("input",{className:"Form-input",type:"text",name:"number",value:b,onChange:l})]}),Object(F.jsx)("button",{type:"submit",children:"Add contact"})]})},N=function(){var t=Object(u.b)();return Object(F.jsx)("label",{children:Object(F.jsx)("input",{type:"text",name:"filter",onChange:function(e){return t(x(e.target.value))}})})};var k,S,E,R=function(){var t=Object(u.c)((function(t){return function(t){return t.contacts.error}(t)})),e=Object(u.c)((function(t){return function(t){return t.contacts.loading}(t)}));return Object(F.jsxs)("div",{className:"App",children:[Object(F.jsx)("h1",{children:"Phonebook"}),Object(F.jsx)(w,{}),Object(F.jsx)("h2",{children:"Contacts"}),Object(F.jsx)("p",{className:"App-find",children:"Find contacts by name"}),Object(F.jsx)(N,{}),e&&Object(F.jsx)("p",{children:" Loading... "}),t&&Object(F.jsx)("p",{children:" Sorry, something goes wrong: "+t}),Object(F.jsx)(L,{})]})},T=n(2),q=n(16),A=n(6),I=Object(b.c)([],(k={},Object(T.a)(k,l.type,(function(t,e){return e.payload})),Object(T.a)(k,d.type,(function(t,e){return[].concat(Object(q.a)(t),[e.payload])})),Object(T.a)(k,h.type,(function(t,e){var n=t.filter((function(t){return t.id!==e.payload}));return Object(q.a)(n)})),k)),U=Object(b.c)("",Object(T.a)({},x.type,(function(t,e){return e.payload}))),B=Object(b.c)(!1,(S={},Object(T.a)(S,j.type,(function(){return!0})),Object(T.a)(S,l.type,(function(){return!1})),Object(T.a)(S,O.type,(function(){return!1})),Object(T.a)(S,f.type,(function(){return!0})),Object(T.a)(S,d.type,(function(){return!1})),Object(T.a)(S,p.type,(function(){return!1})),Object(T.a)(S,m.type,(function(){return!0})),Object(T.a)(S,h.type,(function(){return!1})),Object(T.a)(S,y.type,(function(){return!1})),S)),J=Object(b.c)("",(E={},Object(T.a)(E,O.type,(function(t,e){return e.payload})),Object(T.a)(E,p.type,(function(t,e){return e.payload})),Object(T.a)(E,y.type,(function(t,e){return e.payload})),Object(T.a)(E,j.type,(function(){return""})),Object(T.a)(E,f.type,(function(){return""})),Object(T.a)(E,m.type,(function(){return""})),E)),D=Object(A.b)({items:I,filter:U,loading:B,error:J}),M=Object(b.a)({reducer:{contacts:D},devTools:!1});o.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(u.a,{store:M,children:Object(F.jsx)(R,{})})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.e6396df4.chunk.js.map